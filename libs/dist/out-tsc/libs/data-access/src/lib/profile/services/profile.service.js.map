{"version":3,"file":"profile.service.js","sourceRoot":"","sources":["../../../../../../../../data-access/src/lib/profile/services/profile.service.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAC;AAClD,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAGnD,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAK7B,IAAM,cAAc,GAApB,MAAM,cAAc;IACzB,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;IAC1B,UAAU,GAAG,aAAa,CAAC;IAC3B,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;IAEtB,KAAK;QACH,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAU,GAAG,IAAI,CAAC,UAAU,YAAY,CAAC,CAAC;IAChE,CAAC;IAED,UAAU,CAAC,EAAU;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAU,GAAG,IAAI,CAAC,UAAU,WAAW,EAAE,EAAE,CAAC,CAAC;IACnE,CAAC;IAED,YAAY,CAAC,OAAyB;QACpC,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAU,GAAG,IAAI,CAAC,UAAU,YAAY,EAAE,OAAO,CAAC,CAAC;IAC3E,CAAC;IAED,YAAY,CAAC,IAAU;QACrB,MAAM,EAAE,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC1B,EAAE,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,GAAG,IAAI,CAAC,UAAU,sBAAsB,EACxC,EAAE,CACH,CAAC;IACJ,CAAC;IAED,KAAK,CACH,MAAoC,EACpC,UAGC;QAED,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,GAAG,IAAI,CAAC,UAAU,kBAAkB,EACpC;YACE,MAAM,EAAE;gBACN,GAAG,MAAM;gBACT,IAAI,EAAE,UAAU,EAAE,IAAI,IAAI,CAAC;gBAC3B,IAAI,EAAE,UAAU,EAAE,OAAO,IAAI,EAAE;aAChC;SACF,CACF,CAAC;IACJ,CAAC;CACF,CAAA;AA5CY,cAAc;IAH1B,UAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,cAAc,CA4C1B","sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { inject, Injectable } from '@angular/core';\r\nimport { Pageble } from '@tt/shared';\r\nimport { Profile, QueryParamsProfile } from '@tt/interfaces/profile';\r\nimport { Store } from '@ngrx/store';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ProfileService {\r\n  http = inject(HttpClient);\r\n  baseApiUrl = '/yt-course/';\r\n  store = inject(Store);\r\n\r\n  getMe() {\r\n    return this.http.get<Profile>(`${this.baseApiUrl}account/me`);\r\n  }\r\n\r\n  getAccount(id: string) {\r\n    return this.http.get<Profile>(`${this.baseApiUrl}account/${id}`);\r\n  }\r\n\r\n  patchProfile(profile: Partial<Profile>) {\r\n    return this.http.patch<Profile>(`${this.baseApiUrl}account/me`, profile);\r\n  }\r\n\r\n  uploadAvatar(file: File) {\r\n    const fd = new FormData();\r\n    fd.append('image', file);\r\n    return this.http.post<Profile>(\r\n      `${this.baseApiUrl}account/upload_image`,\r\n      fd\r\n    );\r\n  }\r\n\r\n  query(\r\n    params?: Partial<QueryParamsProfile>,\r\n    pagination?: {\r\n      page: number;\r\n      perPage: number;\r\n    }\r\n  ) {\r\n    return this.http.get<Pageble<Profile>>(\r\n      `${this.baseApiUrl}account/accounts`,\r\n      {\r\n        params: {\r\n          ...params,\r\n          page: pagination?.page || 1,\r\n          size: pagination?.perPage || 50,\r\n        },\r\n      }\r\n    );\r\n  }\r\n}\r\n"]}