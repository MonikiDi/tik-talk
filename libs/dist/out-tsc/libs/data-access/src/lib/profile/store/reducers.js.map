{"version":3,"file":"reducers.js","sourceRoot":"","sources":["../../../../../../../../data-access/src/lib/profile/store/reducers.ts"],"names":[],"mappings":"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","sourcesContent":["import { Profile, QueryParamsProfile } from '@tt/interfaces/profile';\nimport { createFeature, createReducer, on } from '@ngrx/store';\nimport { profileActions } from './actions';\nimport { Pagination } from '@tt/shared';\n\nexport interface ProfileState {\n  profileMe: Profile | undefined;\n  userId: string;\n  user: Profile | undefined;\n  profiles: Profile[];\n  profileFilters: Partial<QueryParamsProfile>;\n  pagination: {\n    currentPage: number;\n    perPage: number;\n    totalPages: number;\n    total: number;\n  };\n  isLoading: boolean;\n}\n\nconst DEFAULT_PAGINATION: Pagination = {\n  total: 0,\n  currentPage: 0,\n  perPage: 0,\n  totalPages: 0\n};\n\nconst initialState: ProfileState = {\n  profileMe: undefined,\n  userId: '',\n  user: undefined,\n  profiles: [],\n  profileFilters: {},\n  pagination: DEFAULT_PAGINATION,\n  isLoading: false\n};\n\nexport const profileFeature = createFeature({\n  name: 'profileFeature',\n  reducer: createReducer(\n    initialState,\n    on(profileActions.loadedGetMe, (state, payload) => {\n      return {\n        ...state,\n        profileMe: payload.profileMe\n      };\n    }),\n    on(profileActions.loadedPatchMe, (state, payload) => {\n      return {\n        ...state,\n        profileMe: payload\n      };\n    }),\n    on(profileActions.loadedPatchAvatarMe, (state, payload) => {\n      return {\n        ...state,\n        profileMe: payload\n      };\n    }),\n    on(profileActions.loadUserId, (state, payload) => {\n      return {\n        ...state,\n        userId: payload.userId\n      };\n    }),\n    on(profileActions.loadedUser, (state, payload) => {\n      return {\n        ...state,\n        user: payload.user\n      };\n    }),\n    on(profileActions.profilesLoaded, (state, payload) => {\n      return {\n        ...state,\n        profiles: payload.profiles\n      };\n    }),\n    on(profileActions.filterEvents, (state, payload) => {\n      return {\n        ...state,\n        profiles: [],\n        profileFilters: {\n          ...state.profileFilters,\n          ...payload\n        }\n      };\n    }),\n    on(profileActions.paginationProfiles, (state, payload) => {\n      return {\n        ...state,\n        pagination: {\n          ...state.pagination,\n          ...payload\n        }\n      };\n    }),\n    on(profileActions.paginationSet, (state, payload) => {\n      return {\n        ...state,\n        pagination: { ...payload }\n      };\n    }),\n    on(profileActions.loadingStartProfiles, (state) => {\n      return {\n        ...state,\n        isLoading: true\n      };\n    }),\n    on(profileActions.loadingEndProfiles, (state) => {\n      return {\n        ...state,\n        isLoading: false\n      };\n    }),\n    on(profileActions.loadedInfiniteProfiles, (state, payload) => {\n      return {\n        ...state,\n        pagination: {\n          total: payload.total,\n          currentPage: payload.page,\n          perPage: payload.size,\n          totalPages: payload.pages\n        },\n        profiles: state.profiles.concat(payload.items)\n      };\n    }),\n    on(profileActions.loadedPaginationProfiles, (state, payload) => {\n      return {\n        ...state,\n        pagination: {\n          total: payload.total,\n          currentPage: payload.page,\n          perPage: payload.size,\n          totalPages: payload.pages\n        },\n        profiles: payload.items,\n      };\n    }),\n    on(profileActions.deleteStoreProfiles, (state, payload) => {\n      return {\n        ...state,\n        profiles: []\n      };\n    }),\n  )\n});\n"]}