{"version":3,"file":"pagination-page.component.js","sourceRoot":"","sources":["../../../../../../../../common-ui/src/lib/components/pagination-page/pagination-page.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport { NgForOf, NgIf } from '@angular/common';\nimport { SvgIconComponent } from '../svg-icon/svg-icon.component';\n\n@Component({\n  selector: 'app-pagination-page',\n  standalone: true,\n  imports: [NgForOf, NgIf, SvgIconComponent],\n  templateUrl: './pagination-page.component.html',\n  styleUrl: './pagination-page.component.scss',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PaginationPageComponent implements OnChanges {\n  @Input() current = 0;\n  @Input() total = 0;\n  @Input() disabled = true;\n  // public readonly disabled = input<boolean>(true);\n\n  @Output() goTo: EventEmitter<number> = new EventEmitter<number>();\n  @Output() next: EventEmitter<number> = new EventEmitter<number>();\n  @Output() previous: EventEmitter<number> = new EventEmitter<number>();\n\n  public pages: number[] = [];\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // if (\n    //   (changes.current && changes.current.currentValue) ||\n    //   (changes.total && changes.total.currentValue)\n    // ) {\n    this.pages = this.getPages(this.current, this.total);\n  }\n  // }\n\n  public onGoTo(page: number): void {\n    this.goTo.emit(page);\n  }\n\n  public onNext(): void {\n    this.next.emit(this.current);\n  }\n\n  public onPrevious(): void {\n    this.previous.next(this.current);\n  }\n\n  private getPages(current: number, total: number): number[] {\n    if (total <= 7) {\n      return [...Array(total).keys()].map((x) => ++x);\n    }\n\n    if (current >= 5) {\n      if (current >= total - 3) {\n        return [\n          1,\n          -1,\n          total - 6,\n          total - 5,\n          total - 4,\n          total - 3,\n          total - 2,\n          total - 1,\n          total,\n        ];\n      } else {\n        return [\n          1,\n          -1,\n          current - 2,\n          current - 1,\n          current,\n          current + 1,\n          current + 2,\n          -1,\n          total,\n        ];\n      }\n    }\n\n    return [1, 2, 3, 4, 5, 6, 7, -1, total];\n  }\n}\n"]}