{"version":3,"file":"pagination-page.component.js","sourceRoot":"","sources":["../../../../../../../../common-ui/src/lib/components/pagination-page/pagination-page.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  Output,\r\n  SimpleChanges,\r\n} from '@angular/core';\r\nimport { NgForOf, NgIf } from '@angular/common';\r\nimport { SvgIconComponent } from '../svg-icon/svg-icon.component';\r\n\r\n@Component({\r\n  selector: 'app-pagination-page',\r\n  standalone: true,\r\n  imports: [NgForOf, NgIf, SvgIconComponent],\r\n  templateUrl: './pagination-page.component.html',\r\n  styleUrl: './pagination-page.component.scss',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class PaginationPageComponent implements OnChanges {\r\n  @Input() current = 0;\r\n  @Input() total = 0;\r\n  @Input() disabled = true;\r\n  // public readonly disabled = input<boolean>(true);\r\n\r\n  @Output() goTo: EventEmitter<number> = new EventEmitter<number>();\r\n  @Output() next: EventEmitter<number> = new EventEmitter<number>();\r\n  @Output() previous: EventEmitter<number> = new EventEmitter<number>();\r\n\r\n  public pages: number[] = [];\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    // if (\r\n    //   (changes.current && changes.current.currentValue) ||\r\n    //   (changes.total && changes.total.currentValue)\r\n    // ) {\r\n    this.pages = this.getPages(this.current, this.total);\r\n  }\r\n  // }\r\n\r\n  public onGoTo(page: number): void {\r\n    this.goTo.emit(page);\r\n  }\r\n\r\n  public onNext(): void {\r\n    this.next.emit(this.current);\r\n  }\r\n\r\n  public onPrevious(): void {\r\n    this.previous.next(this.current);\r\n  }\r\n\r\n  private getPages(current: number, total: number): number[] {\r\n    if (total <= 7) {\r\n      return [...Array(total).keys()].map((x) => ++x);\r\n    }\r\n\r\n    if (current >= 5) {\r\n      if (current >= total - 3) {\r\n        return [\r\n          1,\r\n          -1,\r\n          total - 6,\r\n          total - 5,\r\n          total - 4,\r\n          total - 3,\r\n          total - 2,\r\n          total - 1,\r\n          total,\r\n        ];\r\n      } else {\r\n        return [\r\n          1,\r\n          -1,\r\n          current - 2,\r\n          current - 1,\r\n          current,\r\n          current + 1,\r\n          current + 2,\r\n          -1,\r\n          total,\r\n        ];\r\n      }\r\n    }\r\n\r\n    return [1, 2, 3, 4, 5, 6, 7, -1, total];\r\n  }\r\n}\r\n"]}