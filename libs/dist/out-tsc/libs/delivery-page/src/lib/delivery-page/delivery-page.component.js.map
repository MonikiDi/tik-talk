{"version":3,"file":"delivery-page.component.js","sourceRoot":"","sources":["../../../../../../../delivery-page/src/lib/delivery-page/delivery-page.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\n\n\nenum ReceiverType {\n  PERSON = 'PERSON',\n  LEGAL = 'LEGAL'\n}\n\n@Component({\n  selector: 'tt-delivery-page',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  templateUrl: './delivery-page.component.html',\n  styleUrl: './delivery-page.component.scss'\n})\nexport class DeliveryPageComponent {\n  #fb = inject(FormBuilder);\n\n  ReceiverType = ReceiverType;\n\n  // form = new FormGroup({\n  //   type: new FormControl<ReceiverType>(ReceiverType.PERSON),\n  //   // name: new FormControl<string>({value: '', disabled: true}, Validators.required),\n  //   name: new FormControl<string>( '', Validators.required),\n  //   inn: new FormControl<string>(''),\n  //   lastName: new FormControl<string>('ЗНАЧЕНИЕ'),\n  //   address: new FormGroup({\n  //     city: new FormControl<string>(''),\n  //     street: new FormControl<string>(''),\n  //     building: new FormControl<number | null>(null),\n  //     apartment: new FormControl<number | null>(null)\n  //   })\n  // });\n\n  form = this.#fb.group({\n    type: this.#fb.nonNullable.control<ReceiverType>(ReceiverType.PERSON),\n    name: this.#fb.control<string>('', Validators.required),\n    inn: this.#fb.control<string>(''),\n    lastName: this.#fb.control<string>('ЗНАЧЕНИЕ'),\n    address: this.#fb.group({\n      city: this.#fb.control<string>(''),\n      street: this.#fb.control<string>(''),\n      building: this.#fb.control<number | null>(null),\n      apartment: this.#fb.control<number | null>(null)\n    })\n  });\n\n  constructor() {\n    this.form.controls.type.valueChanges.pipe(takeUntilDestroyed()).subscribe(val => {\n      // console.log('type event');\n      this.form.controls.inn.clearValidators();\n\n      if (val === ReceiverType.LEGAL) {\n        this.form.controls.inn.setValidators(\n          [Validators.required, Validators.minLength(10), Validators.maxLength(10)]\n        );\n      }\n    });\n\n    // this.form.valueChanges.subscribe(val => {\n    //   console.log(val);\n    // })\n\n    // this.form.controls.lastName.disable()\n  }\n\n  onSubmit(event: SubmitEvent) {\n    // const formPatch = {\n    //   name: 'Alesha',\n    //   lastName: 'Popovich'\n    // }\n    // this.form.setValue('всё')\n    // this.form.controls.type.patchValue(ReceiverType.LEGAL, {\n    //   // emitEvent: false\n    //   // onlySelf: true\n    // })\n    // this.form.reset({\n    //   type: ReceiverType.PERSON,\n    //   name: 'LUCAS'\n    // }, {\n    // emitEvent: false\n    // onlySelf: true\n    // })\n    this.form.markAllAsTouched();\n    this.form.updateValueAndValidity();\n\n    console.log(this.form.getRawValue());\n    // console.log(this.form.value);\n    this.form.reset()\n\n    if (this.form.invalid) return;\n  }\n}\n"]}